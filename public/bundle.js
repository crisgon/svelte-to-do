var app=function(){"use strict";function t(){}const e=t=>t;function n(t){return t()}function a(){return Object.create(null)}function s(t){t.forEach(n)}function o(t){return"function"==typeof t}function c(t,e){return t!=t?e==e:t!==e||t&&"object"==typeof t||"function"==typeof t}const r="undefined"!=typeof window;let i=r?()=>window.performance.now():()=>Date.now(),l=r?t=>requestAnimationFrame(t):t;const d=new Set;let u,f=!1;function m(){d.forEach(t=>{t[0](i())||(d.delete(t),t[1]())}),(f=d.size>0)&&l(m)}function p(t){let e;return f||(f=!0,l(m)),{promise:new Promise(n=>{d.add(e=[t,n])}),abort(){d.delete(e)}}}function h(t,e){t.appendChild(e)}function k(t,e,n){t.insertBefore(e,n||null)}function $(t){t.parentNode.removeChild(t)}function g(t){return document.createElement(t)}function y(t){return document.createTextNode(t)}function v(){return y(" ")}function b(t,e,n,a){return t.addEventListener(e,n,a),()=>t.removeEventListener(e,n,a)}function T(t,e,n){null==n?t.removeAttribute(e):t.setAttribute(e,n)}function _(t,e,n){t.classList[n?"add":"remove"](e)}function w(t,e){const n=document.createEvent("CustomEvent");return n.initCustomEvent(t,!1,!1,e),n}let x,O=0,N={};function L(t,e,n,a,s,o,c,r=0){const i=16.666/a;let l="{\n";for(let t=0;t<=1;t+=i){const a=e+(n-e)*o(t);l+=100*t+`%{${c(a,1-a)}}\n`}const d=l+`100% {${c(n,1-n)}}\n}`,f=`__svelte_${function(t){let e=5381,n=t.length;for(;n--;)e=(e<<5)-e^t.charCodeAt(n);return e>>>0}(d)}_${r}`;if(!N[f]){if(!u){const t=g("style");document.head.appendChild(t),u=t.sheet}N[f]=!0,u.insertRule(`@keyframes ${f} ${d}`,u.cssRules.length)}const m=t.style.animation||"";return t.style.animation=`${m?`${m}, `:""}${f} ${a}ms linear ${s}ms 1 both`,O+=1,f}function D(t,e){t.style.animation=(t.style.animation||"").split(", ").filter(e?t=>t.indexOf(e)<0:t=>-1===t.indexOf("__svelte")).join(", "),e&&!--O&&l(()=>{if(O)return;let t=u.cssRules.length;for(;t--;)u.deleteRule(t);N={}})}function B(t){x=t}function E(t){(function(){if(!x)throw new Error("Function called outside component initialization");return x})().$$.on_mount.push(t)}const S=[],j=[],C=[],A=[],M=Promise.resolve();let P,R=!1;function q(t){C.push(t)}function z(){const t=new Set;do{for(;S.length;){const t=S.shift();B(t),F(t.$$)}for(;j.length;)j.pop()();for(let e=0;e<C.length;e+=1){const n=C[e];t.has(n)||(n(),t.add(n))}C.length=0}while(S.length);for(;A.length;)A.pop()();R=!1}function F(t){t.fragment&&(t.update(t.dirty),s(t.before_update),t.fragment.p(t.dirty,t.ctx),t.dirty=null,t.after_update.forEach(q))}function J(){return P||(P=Promise.resolve()).then(()=>{P=null}),P}function H(t,e,n){t.dispatchEvent(w(`${e?"intro":"outro"}${n}`))}const I=new Set;let G;function K(t,e){t&&t.i&&(I.delete(t),t.i(e))}function Q(t,e,n,a){if(t&&t.o){if(I.has(t))return;I.add(t),G.c.push(()=>{I.delete(t),a&&(n&&t.d(1),a())}),t.o(e)}}const U={duration:0};function V(t,e){Q(t,1,1,()=>{e.delete(t.key)})}function W(t,e,a){const{fragment:c,on_mount:r,on_destroy:i,after_update:l}=t.$$;c.m(e,a),q(()=>{const e=r.map(n).filter(o);i?i.push(...e):s(e),t.$$.on_mount=[]}),l.forEach(q)}function X(t,e){t.$$.fragment&&(s(t.$$.on_destroy),t.$$.fragment.d(e),t.$$.on_destroy=t.$$.fragment=null,t.$$.ctx={})}function Y(t,e){t.$$.dirty||(S.push(t),R||(R=!0,M.then(z)),t.$$.dirty=a()),t.$$.dirty[e]=!0}function Z(e,n,o,c,r,i){const l=x;B(e);const d=n.props||{},u=e.$$={fragment:null,ctx:null,props:i,update:t,not_equal:r,bound:a(),on_mount:[],on_destroy:[],before_update:[],after_update:[],context:new Map(l?l.$$.context:[]),callbacks:a(),dirty:null};let f=!1;var m;u.ctx=o?o(e,d,(t,n)=>{u.ctx&&r(u.ctx[t],u.ctx[t]=n)&&(u.bound[t]&&u.bound[t](n),f&&Y(e,t))}):d,u.update(),f=!0,s(u.before_update),u.fragment=c(u.ctx),n.target&&(n.hydrate?u.fragment.l((m=n.target,Array.from(m.childNodes))):u.fragment.c(),n.intro&&K(e.$$.fragment),W(e,n.target,n.anchor),z()),B(l)}class tt{$destroy(){X(this,1),this.$destroy=t}$on(t,e){const n=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return n.push(e),()=>{const t=n.indexOf(e);-1!==t&&n.splice(t,1)}}$set(){}}function et(e){var n,a,o,c,r,i;return{c(){n=g("div"),a=g("input"),o=v(),c=g("button"),r=y("create"),T(a,"type","text"),c.disabled=e.disabledBtn,T(c,"class","btn svelte-15wo773"),T(n,"class","task-input"),i=[b(a,"input",e.input_input_handler),b(c,"click",e.click_handler)]},m(t,s){k(t,n,s),h(n,a),a.value=e.taskName,h(n,o),h(n,c),h(c,r)},p(t,e){t.taskName&&a.value!==e.taskName&&(a.value=e.taskName),t.disabledBtn&&(c.disabled=e.disabledBtn)},i:t,o:t,d(t){t&&$(n),s(i)}}}function nt(t,e,n){let{insertTasksOnDataBase:a}=e,s="",o=!0;function c(t){a(t),n("taskName",s="")}return t.$set=(t=>{"insertTasksOnDataBase"in t&&n("insertTasksOnDataBase",a=t.insertTasksOnDataBase)}),t.$$.update=((t={taskName:1})=>{t.taskName&&n("disabledBtn",o=s.trim().length<=5)}),{insertTasksOnDataBase:a,taskName:s,disabledBtn:o,createNewTask:c,input_input_handler:function(){s=this.value,n("taskName",s)},click_handler:function(){return c(s)}}}class at extends tt{constructor(t){super(),Z(this,t,nt,et,c,["insertTasksOnDataBase"])}}function st(t){const e=t-1;return e*e*e+1}function ot(t,{delay:e=0,duration:n=400,easing:a=st,x:s=0,y:o=0,opacity:c=0}){const r=getComputedStyle(t),i=+r.opacity,l="none"===r.transform?"":r.transform,d=i*(1-c);return{delay:e,duration:n,easing:a,css:(t,e)=>`\n\t\t\ttransform: ${l} translate(${(1-t)*s}px, ${(1-t)*o}px);\n\t\t\topacity: ${i-d*e}`}}function ct(n){var a,c,r,l,d,u,f,m,w,x,O;return{c(){a=g("li"),c=g("span"),r=y(n.name),l=v(),d=g("input"),u=v(),(f=g("span")).textContent="❌",T(c,"class","task-name svelte-lf1th8"),T(d,"type","checkbox"),T(d,"class","checkbox svelte-lf1th8"),T(f,"role","button"),T(f,"class","remove svelte-lf1th8"),T(a,"class","task svelte-lf1th8"),_(a,"completed",n.completed),O=[b(d,"change",n.input_change_handler),b(d,"change",n.change_handler),b(f,"click",n.click_handler)]},m(t,e){k(t,a,e),h(a,c),h(c,r),h(a,l),h(a,d),d.checked=n.completed,h(a,u),h(a,f),x=!0},p(t,e){var n,s;x&&!t.name||(n=r,s=""+(s=e.name),n.data!==s&&(n.data=s)),t.completed&&(d.checked=e.completed),t.completed&&_(a,"completed",e.completed)},i(n){x||(q(()=>{w&&w.end(1),m||(m=function(n,a,s){let c,r,l=a(n,s),d=!1,u=0;function f(){c&&D(n,c)}function m(){const{delay:a=0,duration:s=300,easing:o=e,tick:m=t,css:h}=l||U;h&&(c=L(n,0,1,s,a,o,h,u++)),m(0,1);const k=i()+a,$=k+s;r&&r.abort(),d=!0,q(()=>H(n,!0,"start")),r=p(t=>{if(d){if(t>=$)return m(1,0),H(n,!0,"end"),f(),d=!1;if(t>=k){const e=o((t-k)/s);m(e,1-e)}}return d})}let h=!1;return{start(){h||(D(n),o(l)?(l=l(),J().then(m)):m())},invalidate(){h=!1},end(){d&&(f(),d=!1)}}}(a,ot,{x:50,duration:800})),m.start()}),x=!0)},o(n){m&&m.invalidate(),w=function(n,a,c){let r,l=a(n,c),d=!0;const u=G;function f(){const{delay:a=0,duration:o=300,easing:c=e,tick:f=t,css:m}=l||U;m&&(r=L(n,1,0,o,a,c,m));const h=i()+a,k=h+o;q(()=>H(n,!1,"start")),p(t=>{if(d){if(t>=k)return f(0,1),H(n,!1,"end"),--u.r||s(u.c),!1;if(t>=h){const e=c((t-h)/o);f(1-e,e)}}return d})}return u.r+=1,o(l)?J().then(()=>{l=l(),f()}):f(),{end(t){t&&l.tick&&l.tick(1,0),d&&(r&&D(n,r),d=!1)}}}(a,ot,{x:50,duration:800}),x=!1},d(t){t&&($(a),w&&w.end()),s(O)}}}function rt(t,e,n){let{id:a,name:s,completed:o}=e;const c=function(){const t=x;return(e,n)=>{const a=t.$$.callbacks[e];if(a){const s=w(e,n);a.slice().forEach(e=>{e.call(t,s)})}}}();return t.$set=(t=>{"id"in t&&n("id",a=t.id),"name"in t&&n("name",s=t.name),"completed"in t&&n("completed",o=t.completed)}),{id:a,name:s,completed:o,dispatch:c,input_change_handler:function(){o=this.checked,n("completed",o)},change_handler:function(){return c("complete",{id:a,name:s,completed:o})},click_handler:function(){return c("delete",{id:a})}}}class it extends tt{constructor(t){super(),Z(this,t,rt,ct,c,["id","name","completed"])}}function lt(t,e,n){const a=Object.create(t);return a.task=e[n],a}function dt(t){var e;return{c(){(e=g("span")).textContent="Nothing here..."},m(t,n){k(t,e,n)},d(t){t&&$(e)}}}function ut(t,e){var n,a,s=new it({props:{id:e.task.id,name:e.task.taskName,completed:e.task.completed}});return s.$on("delete",e.delete_handler),s.$on("complete",e.complete_handler),{key:t,first:null,c(){n=y(""),s.$$.fragment.c(),this.first=n},m(t,e){k(t,n,e),W(s,t,e),a=!0},p(t,e){var n={};t.taskList&&(n.id=e.task.id),t.taskList&&(n.name=e.task.taskName),t.taskList&&(n.completed=e.task.completed),s.$set(n)},i(t){a||(K(s.$$.fragment,t),a=!0)},o(t){Q(s.$$.fragment,t),a=!1},d(t){t&&$(n),X(s,t)}}}function ft(t){var e,n,a=[],o=new Map,c=t.taskList;const r=t=>t.task.id;for(var i=0;i<c.length;i+=1){let e=lt(t,c,i),n=r(e);o.set(n,a[i]=ut(n,e))}var l=null;return c.length||(l=dt()).c(),{c(){for(e=g("ul"),i=0;i<a.length;i+=1)a[i].c();T(e,"class","task-list svelte-5atkkf")},m(t,s){for(k(t,e,s),i=0;i<a.length;i+=1)a[i].m(e,null);l&&l.m(e,null),n=!0},p(t,n){const c=n.taskList;G={r:0,c:[],p:G},a=function(t,e,n,a,s,o,c,r,i,l,d,u){let f=t.length,m=o.length,p=f;const h={};for(;p--;)h[t[p].key]=p;const k=[],$=new Map,g=new Map;for(p=m;p--;){const t=u(s,o,p),r=n(t);let i=c.get(r);i?a&&i.p(e,t):(i=l(r,t)).c(),$.set(r,k[p]=i),r in h&&g.set(r,Math.abs(p-h[r]))}const y=new Set,v=new Set;function b(t){K(t,1),t.m(r,d),c.set(t.key,t),d=t.first,m--}for(;f&&m;){const e=k[m-1],n=t[f-1],a=e.key,s=n.key;e===n?(d=e.first,f--,m--):$.has(s)?!c.has(a)||y.has(a)?b(e):v.has(s)?f--:g.get(a)>g.get(s)?(v.add(a),b(e)):(y.add(s),f--):(i(n,c),f--)}for(;f--;){const e=t[f];$.has(e.key)||i(e,c)}for(;m;)b(k[m-1]);return k}(a,t,r,1,n,c,o,e,V,ut,null,lt),G.r||s(G.c),G=G.p,c.length?l&&(l.d(1),l=null):l||((l=dt()).c(),l.m(e,null))},i(t){if(!n){for(var e=0;e<c.length;e+=1)K(a[e]);n=!0}},o(t){for(i=0;i<a.length;i+=1)Q(a[i]);n=!1},d(t){for(t&&$(e),i=0;i<a.length;i+=1)a[i].d();l&&l.d()}}}function mt(t,e,n){let{taskList:a,deleteTask:s,completeTask:o}=e;return t.$set=(t=>{"taskList"in t&&n("taskList",a=t.taskList),"deleteTask"in t&&n("deleteTask",s=t.deleteTask),"completeTask"in t&&n("completeTask",o=t.completeTask)}),{taskList:a,deleteTask:s,completeTask:o,delete_handler:function(t){return s(t)},complete_handler:function(t){return o(t)}}}class pt extends tt{constructor(t){super(),Z(this,t,mt,ft,c,["taskList","deleteTask","completeTask"])}}function ht(t){var e,n,a,s,o,c,r,i,l,d,u=new at({props:{insertTasksOnDataBase:t.insertTasksOnDataBase}}),f=new pt({props:{taskList:t.taskList,deleteTask:t.deleteTaskOnDatabase,completeTask:t.changeTasksStateOnDataBase}});return{c(){e=g("section"),n=g("header"),a=g("figure"),s=g("img"),o=v(),c=g("h1"),r=y(kt),i=v(),u.$$.fragment.c(),l=v(),f.$$.fragment.c(),T(s,"src",$t),T(s,"alt","Svelte3"),T(a,"class","image svelte-1xiehf8"),T(c,"class","title"),T(n,"class","header svelte-1xiehf8"),T(e,"class","container svelte-1xiehf8")},m(t,m){k(t,e,m),h(e,n),h(n,a),h(a,s),h(n,o),h(n,c),h(c,r),h(n,i),W(u,n,null),h(e,l),W(f,e,null),d=!0},p(t,e){var n={};t.insertTasksOnDataBase&&(n.insertTasksOnDataBase=e.insertTasksOnDataBase),u.$set(n);var a={};t.taskList&&(a.taskList=e.taskList),t.deleteTaskOnDatabase&&(a.deleteTask=e.deleteTaskOnDatabase),t.changeTasksStateOnDataBase&&(a.completeTask=e.changeTasksStateOnDataBase),f.$set(a)},i(t){d||(K(u.$$.fragment,t),K(f.$$.fragment,t),d=!0)},o(t){Q(u.$$.fragment,t),Q(f.$$.fragment,t),d=!1},d(t){t&&$(e),X(u),X(f)}}}const kt="Svelte To Do",$t="https://avatars2.githubusercontent.com/u/23617963?s=40&v=4";function gt(t,e,n){let a=[];return E(()=>{!async function(){try{const t=await(await fetch("https://svelte-todo-61dba.firebaseio.com/tasks.json")).json();Object.keys(t).forEach(e=>{n("taskList",a=[...a,{id:e,taskName:t[e].taskName,completed:t[e].completed}])})}catch(t){console.error(t)}}()}),t.$$.update=((t={taskName:1})=>{t.taskName&&n("taskName","")}),{taskList:a,insertTasksOnDataBase:async function(t){const e={taskName:t,completed:!1};try{const t=await(await fetch("https://svelte-todo-61dba.firebaseio.com/tasks.json",{method:"POST",body:JSON.stringify(e),headers:{"Content-Type":"application/json"}})).json();n("taskList",a=[...a,{id:t.name,taskName:e.taskName}])}catch(t){console.error(t)}},changeTasksStateOnDataBase:async function(t){const{detail:{id:e,completed:n,name:s}}=t,o={taskName:s,completed:n};try{await(await fetch(`https://svelte-todo-61dba.firebaseio.com/tasks/${e}.json`,{method:"PATCH",body:JSON.stringify(o),headers:{"Content-Type":"application/json"}})).json(),a.findIndex(t=>t.id===e)}catch(t){console.error(t)}},deleteTaskOnDatabase:async function(t){const{detail:{id:e}}=t;try{(await fetch(`https://svelte-todo-61dba.firebaseio.com/tasks/${e}.json`,{method:"DELETE"})).ok&&function(t){n("taskList",a=a.filter(e=>e.id!==t))}(e)}catch(t){}}}}return new class extends tt{constructor(t){super(),Z(this,t,gt,ht,c,[])}}({target:document.body})}();
//# sourceMappingURL=bundle.js.map
